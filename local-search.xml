<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>解决Ubuntu24.04中Conda补全问题：Bash/Zsh双终端配置指南</title>
    <link href="/echo-silence/posts/8832b323.html"/>
    <url>/echo-silence/posts/8832b323.html</url>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>Bash、Zsh 支持 Conda 命令，以及命令补全功能</p></blockquote><h2 id="一、安装-miniconda3"><a href="#一、安装-miniconda3" class="headerlink" title="一、安装 miniconda3"></a>一、安装 miniconda3</h2><p>在 bash 中安装 miniconda3</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh &amp;&amp; <span class="hljs-built_in">chmod</span> +x Miniconda3-latest-Linux-x86_64.sh &amp;&amp; ./Miniconda3-latest-Linux-x86_64.sh<br></code></pre></td></tr></table></figure><h2 id="二、Bash-支持-Conda"><a href="#二、Bash-支持-Conda" class="headerlink" title="二、Bash 支持 Conda"></a>二、Bash 支持 Conda</h2><h3 id="1-初始化-Conda"><a href="#1-初始化-Conda" class="headerlink" title="1. 初始化 Conda"></a>1. 初始化 Conda</h3><p>在 Bash 中执行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda init bash<br></code></pre></td></tr></table></figure><h3 id="2-安装-conda-bash-completion-插件"><a href="#2-安装-conda-bash-completion-插件" class="headerlink" title="2. 安装 conda-bash-completion 插件"></a>2. 安装 conda-bash-completion 插件</h3><p>要使 Bash 支持 Conda 命令补全功能，需要安装插件 conda-bash-completion</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda install conda-bash-completion -n base -c conda-forge<br></code></pre></td></tr></table></figure><p>此时，Bash 中已经可以支持 Conda 以及 Conda 命令补全</p><h2 id="三、Zsh-支持-Conda"><a href="#三、Zsh-支持-Conda" class="headerlink" title="三、Zsh 支持 Conda"></a>三、Zsh 支持 Conda</h2><h3 id="1-初始化-Conda-1"><a href="#1-初始化-Conda-1" class="headerlink" title="1. 初始化 Conda"></a>1. 初始化 Conda</h3><p>在 Zsh 中执行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda init zsh<br></code></pre></td></tr></table></figure><h3 id="2-安装-conda-zsh-completion-插件"><a href="#2-安装-conda-zsh-completion-插件" class="headerlink" title="2. 安装 conda-zsh-completion 插件"></a>2. 安装 conda-zsh-completion 插件</h3><p>要使 Zsh 支持 Conda 命令补全功能，需要安装插件 conda-zsh-completion</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/esc/conda-zsh-completion ~/.oh-my-zsh/custom/plugins/conda-zsh-completion<br></code></pre></td></tr></table></figure><h3 id="3-启用插件"><a href="#3-启用插件" class="headerlink" title="3. 启用插件"></a>3. 启用插件</h3><p>修改 <code>~/.zshrc</code> 文件，在 <code>plugins</code> 末尾添加 <code>conda-zsh-completion</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">plugins=(... conda-zsh-completion)<br></code></pre></td></tr></table></figure><h3 id="4-更新配置"><a href="#4-更新配置" class="headerlink" title="4. 更新配置"></a>4. 更新配置</h3><p>执行以下命令，更新 <code>.zshrc</code> 配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure><h3 id="5-现象"><a href="#5-现象" class="headerlink" title="5. 现象"></a>5. 现象</h3><p>【问题】<br>在 zsh 中使用 Conda 命令，发现仍然不能自动补全 Conda 命令<br>【解决】<br>需要修改 <code>~/.zshrc</code> 文件，在最后一个 <code># &gt;&gt;&gt; conda initialize &gt;&gt;&gt;</code> 之后添加以下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 确保 conda-zsh-completion 的路径在 fpath 中</span><br>fpath=(~/.oh-my-zsh/custom/plugins/conda-zsh-completion <span class="hljs-variable">$fpath</span>)<br><span class="hljs-comment"># 初始化补全系统</span><br><span class="hljs-built_in">autoload</span> -Uz compinit &amp;&amp; compinit<br></code></pre></td></tr></table></figure><p>更新 <code>.zshrc</code> 配置文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">source ~/.zshrc<br></code></pre></td></tr></table></figure><p>大功告成，zsh 中可以使用 conda 命令进行自动补全</p><h2 id="四、验证"><a href="#四、验证" class="headerlink" title="四、验证"></a>四、验证</h2><p>在 Bash 和 Zsh 中分别键入，在键入的过程使用<code>TAB</code>键观察是否可以补全命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda <span class="hljs-built_in">env</span> list<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>os</category>
      
      <category>ubuntu</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Conda</tag>
      
      <tag>Bash</tag>
      
      <tag>Zsh</tag>
      
      <tag>终端</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>让Ubuntu终端效率翻倍！Zsh配置+高颜值主题+实用插件指南</title>
    <link href="/echo-silence/posts/894a47dd.html"/>
    <url>/echo-silence/posts/894a47dd.html</url>
    
    <content type="html"><![CDATA[<h2 id="一、安装-Zsh"><a href="#一、安装-Zsh" class="headerlink" title="一、安装 Zsh"></a>一、安装 Zsh</h2><p>在 bash 中执行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 安装</span><br><span class="hljs-built_in">sudo</span> apt update &amp;&amp; <span class="hljs-built_in">sudo</span> apt install zsh -y<br><span class="hljs-comment"># 设置为默认终端</span><br>chsh -s $(<span class="hljs-built_in">which</span> zsh)<br></code></pre></td></tr></table></figure><p>重启系统或者重新登陆后生效</p><h2 id="二、安装-Oh-My-Zsh-管理框架"><a href="#二、安装-Oh-My-Zsh-管理框架" class="headerlink" title="二、安装 Oh My Zsh(管理框架)"></a>二、安装 Oh My Zsh(管理框架)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sh -c <span class="hljs-string">&quot;<span class="hljs-subst">$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>&quot;</span><br></code></pre></td></tr></table></figure><h2 id="三、主题推荐"><a href="#三、主题推荐" class="headerlink" title="三、主题推荐"></a>三、主题推荐</h2><h3 id="1-安装字体"><a href="#1-安装字体" class="headerlink" title="1. 安装字体"></a>1. 安装字体</h3><p>安装 <a href="https://github.com/romkatv/powerlevel10k?tab=readme-ov-file#meslo-nerd-font-patched-for-powerlevel10k">Powerlevel10k</a><br>，需要预先下载主题所需字体</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 下载安装所需字体</span><br>wget https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Regular.ttf<br>wget https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Bold.ttf<br>wget https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Italic.ttf<br>wget https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Bold%20Italic.ttf<br></code></pre></td></tr></table></figure><p>双击下载的字体并安装，在终端–配置文件首选项–配置文件（默认配置）–自定义字体中，选择“MesloLGS NF Regular”或者“MesloLGS NF”<br>安装完成后刷新字体缓存</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> fc-cache -fv<br></code></pre></td></tr></table></figure><h3 id="2-安装主题"><a href="#2-安装主题" class="headerlink" title="2. 安装主题"></a>2. 安装主题</h3><p>推荐 <a href="https://github.com/romkatv/powerlevel10k.git">Powerlevel10k</a> 主题</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> --depth=1 https://github.com/romkatv/powerlevel10k.git <span class="hljs-variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/themes/powerlevel10k<br></code></pre></td></tr></table></figure><h3 id="3-修改配置文件"><a href="#3-修改配置文件" class="headerlink" title="3. 修改配置文件"></a>3. 修改配置文件</h3><p>在 <code>~/.zshrc</code> 文件中将主题设置为 Powerlevel10k</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ZSH_THEME=<span class="hljs-string">&quot;powerlevel10k/powerlevel10k&quot;</span><br></code></pre></td></tr></table></figure><h3 id="4-重新加载配置后会自动运行配置向导"><a href="#4-重新加载配置后会自动运行配置向导" class="headerlink" title="4. 重新加载配置后会自动运行配置向导"></a>4. 重新加载配置后会自动运行配置向导</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure><p>应该会自动弹出<code>powerlevel10k</code>的主题设置，如果未弹出，输入<code>p10k configure</code>即可手动进入设置页面，后续修改也可使用<br><code>p10k configure</code>进入修改</p><h3 id="5-其他主题推荐"><a href="#5-其他主题推荐" class="headerlink" title="5. 其他主题推荐"></a>5. 其他主题推荐</h3><ul><li><a href="https://github.com/spaceship-prompt/spaceship-prompt">Spaceship</a>:前端&#x2F;全栈开发</li><li><a href="https://github.com/starship/starship">Starship</a>:多 Shell 环境</li><li><a href="https://github.com/sindresorhus/pure">Pure</a>:追求纯净体验</li><li><a href="https://github.com/agnoster/agnoster-zsh-theme">Agnoster</a>:服务器管理</li><li><a href="https://github.com/powerline/powerline">Powerline</a>:与 Vim 的 powerline 状态栏风格统一</li><li><a href="https://github.com/dracula/zsh">Dracula</a>:长时间编码</li></ul><h2 id="四、推荐插件安装"><a href="#四、推荐插件安装" class="headerlink" title="四、推荐插件安装"></a>四、推荐插件安装</h2><h3 id="1-语法高亮"><a href="#1-语法高亮" class="headerlink" title="1. 语法高亮"></a>1. 语法高亮</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install zsh-syntax-highlighting -y<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;source /usr/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh&quot;</span> &gt;&gt; ~/.zshrc<br></code></pre></td></tr></table></figure><h3 id="2-自动补全"><a href="#2-自动补全" class="headerlink" title="2. 自动补全"></a>2. 自动补全</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install zsh-autosuggestions -y<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;source /usr/share/zsh-autosuggestions/zsh-autosuggestions.zsh&quot;</span> &gt;&gt; ~/.zshrc<br></code></pre></td></tr></table></figure><h3 id="3-其他实用插件"><a href="#3-其他实用插件" class="headerlink" title="3. 其他实用插件"></a>3. 其他实用插件</h3><ul><li><p><a href="https://github.com/jeffreytse/zsh-vi-mode">zsh-vi-mode</a>:将 Zsh 变成完整的 Vi&#x2F;Vim 编辑模式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/jeffreytse/zsh-vi-mode <span class="hljs-variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-vi-mode<br></code></pre></td></tr></table></figure></li><li><p><a href="https://github.com/wfxr/forgit">forgit</a>:交互式 git 命令增强</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/wfxr/forgit.git <span class="hljs-variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/forgit<br></code></pre></td></tr></table></figure></li><li><p><a href="https://github.com/marlonrichert/zsh-autocomplete">zsh-autocomplete</a>:输入时实时显示补全建议</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/marlonrichert/zsh-autocomplete.git <span class="hljs-variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-autocomplete<br></code></pre></td></tr></table></figure></li></ul><p>下载完成后，编辑 <code>~/.zshrc</code> 修改插件配置，在 <code>plugins数组</code> 后添加对应的插件名称：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">plugins=(git <span class="hljs-built_in">sudo</span> docker docker-compose kubectl ubuntu forgit zsh-autocomplete)<br></code></pre></td></tr></table></figure><h3 id="4-插件优化技巧"><a href="#4-插件优化技巧" class="headerlink" title="4.插件优化技巧"></a>4.插件优化技巧</h3><p>性能优化配置（ <code>.zshrc</code> 中添加）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 按需加载插件（减少启动时间）</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:omz:plugins&#x27;</span> lazy-load <span class="hljs-built_in">yes</span><br><br><span class="hljs-comment"># 指定延迟加载的插件</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:omz:plugins:lazy&#x27;</span> aliases git docker<br></code></pre></td></tr></table></figure><h2 id="五、其他优化技巧"><a href="#五、其他优化技巧" class="headerlink" title="五、其他优化技巧"></a>五、其他优化技巧</h2><h3 id="1-历史命令优化"><a href="#1-历史命令优化" class="headerlink" title="1. 历史命令优化"></a>1. 历史命令优化</h3><p>在 <code>~/.zshrc</code> 中添加：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">HISTFILE=~/.zsh_history<br>HISTSIZE=10000<br>SAVEHIST=10000<br><span class="hljs-built_in">setopt</span> appendhistory<br><span class="hljs-built_in">setopt</span> share_history<br><span class="hljs-built_in">setopt</span> hist_ignore_all_dups<br></code></pre></td></tr></table></figure><h3 id="2-别名设置"><a href="#2-别名设置" class="headerlink" title="2. 别名设置"></a>2. 别名设置</h3><p>在 <code>~/.zshrc</code> 中添加常用别名：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">alias</span> ll=<span class="hljs-string">&#x27;ls -alF&#x27;</span><br><span class="hljs-built_in">alias</span> la=<span class="hljs-string">&#x27;ls -A&#x27;</span><br><span class="hljs-built_in">alias</span> l=<span class="hljs-string">&#x27;ls -CF&#x27;</span><br><span class="hljs-built_in">alias</span> update=<span class="hljs-string">&#x27;sudo apt update &amp;&amp; sudo apt upgrade -y&#x27;</span><br><span class="hljs-built_in">alias</span> cls=<span class="hljs-string">&#x27;clear&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="3-启用颜色支持"><a href="#3-启用颜色支持" class="headerlink" title="3. 启用颜色支持"></a>3. 启用颜色支持</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;export CLICOLOR=1&#x27;</span> &gt;&gt; ~/.zshrc<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;export LS_COLORS=&quot;di=34:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43&quot;&#x27;</span> &gt;&gt; ~/.zshrc<br></code></pre></td></tr></table></figure><h2 id="六、最终生效"><a href="#六、最终生效" class="headerlink" title="六、最终生效"></a>六、最终生效</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure><h2 id="七、恢复-bash"><a href="#七、恢复-bash" class="headerlink" title="七、恢复 bash"></a>七、恢复 bash</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 如果需要切换回bash为默认终端</span><br>chsh -s $(<span class="hljs-built_in">which</span> bash)<br><span class="hljs-comment"># 如果临时切换回bash</span><br>bash<br></code></pre></td></tr></table></figure><h2 id="八、注意事项"><a href="#八、注意事项" class="headerlink" title="八、注意事项"></a>八、注意事项</h2><ul><li>插件太多可能会影响启动速度，建议按需安装</li><li>主题建议先选择自己喜欢的风格再安装</li><li>对于 <a href="https://github.com/romkatv/powerlevel10k.git">Powerlevel10k</a> 主题，使用<code>p10k configure</code>随时进行风格更换</li></ul>]]></content>
    
    
    <categories>
      
      <category>os</category>
      
      <category>ubuntu</category>
      
    </categories>
    
    
    <tags>
      
      <tag>美化</tag>
      
      <tag>Zsh</tag>
      
      <tag>插件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu终极美化指南：GRUB定制+GNOME主题+必备插件推荐</title>
    <link href="/echo-silence/posts/1c1e6954.html"/>
    <url>/echo-silence/posts/1c1e6954.html</url>
    
    <content type="html"><![CDATA[<h2 id="一、Grub-设置"><a href="#一、Grub-设置" class="headerlink" title="一、Grub 设置"></a>一、Grub 设置</h2><h3 id="1-安装-Grub-Customizer【推荐】"><a href="#1-安装-Grub-Customizer【推荐】" class="headerlink" title="1. 安装 Grub Customizer【推荐】"></a>1. 安装 Grub Customizer【推荐】</h3><p>Grub Customizer 是一个用于自定义 GRUB 引导菜单的实用程序</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo add-apt-repository ppa:danielrichter2007/grub-customizer &amp;&amp; sudo apt update &amp;&amp; sudo apt install -y grub-customizer<br></code></pre></td></tr></table></figure><h3 id="2-安装主题"><a href="#2-安装主题" class="headerlink" title="2. 安装主题"></a>2. 安装主题</h3><p>通过<a href="https://www.gnome-look.org/browse?cat=109&ord=rating">GRUB THEME</a>可以选择主题</p><ol><li><p>选择主题，进入主题对应的 github 页面，通过对应主题的说明进行安装 <strong>【推荐】</strong><br>以<a href="https://github.com/vinceliuice/grub2-themes">Tela grub theme</a>为例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">将项目<span class="hljs-built_in">clone</span>到本地</span><br>git clone https://github.com/vinceliuice/grub2-themes.git --depth 1<br><span class="hljs-meta prompt_"># </span><span class="language-bash">安装</span><br>cd grub2-themes &amp;&amp; sudo ./install.sh -t tela -s 2k<br></code></pre></td></tr></table></figure></li><li><p>将下载下来的文件进行解压，并将其拷贝到<code>/boot/grub/themes/</code>目录下即可<br>以<a href="https://www.opendesktop.org/s/Gnome/p/1420727">CyberRe</a>为例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo cp -r CyberRe/ /boot/grub/themes/CyberRe/<br></code></pre></td></tr></table></figure></li><li><p>利用上述 Grub Customizer 在“外观设置”中可以自定义主题</p></li></ol><h2 id="二、GNOME-系统主题设置"><a href="#二、GNOME-系统主题设置" class="headerlink" title="二、GNOME 系统主题设置"></a>二、GNOME 系统主题设置</h2><p>通过<a href="https://www.opendesktop.org/s/Gnome/browse?cat=135&ord=rating">GTK3&#x2F;4 Themes</a>可以选择主题</p><ol><li><p>选择主题，进入主题对应的 github 页面，通过对应主题的说明进行安装 <strong>【推荐】</strong><br>以<a href="https://github.com/vinceliuice/Orchis-theme">Orchis gtk theme</a>为例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">将项目<span class="hljs-built_in">clone</span>到本地</span><br>git clone https://github.com/vinceliuice/Orchis-theme.git --depth 1<br><span class="hljs-meta prompt_"># </span><span class="language-bash">安装(默认安装路径为`<span class="hljs-variable">$HOME</span>/.themes`)</span><br>cd Orchis-theme &amp;&amp; sudo ./install.sh<br></code></pre></td></tr></table></figure><p>下载对应的<a href="https://github.com/vinceliuice/Tela-icon-theme">Tela Icon Theme</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">将项目<span class="hljs-built_in">clone</span>到本地</span><br>git clone https://github.com/vinceliuice/Tela-icon-theme.git --depth 1<br><span class="hljs-meta prompt_"># </span><span class="language-bash">安装(默认安装路径为`<span class="hljs-variable">$HOME</span>/.local/share/icons`)</span><br>cd Tela-icon-theme &amp;&amp; sudo ./install.sh<br></code></pre></td></tr></table></figure></li><li><p>安装 GNOME Tweak Tool</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install gnome-tweaks<br></code></pre></td></tr></table></figure></li><li><p>安装 chrome</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb<br>sudo dpkg -i google-chrome-stable_current_amd64.deb<br>sudo apt-get -f install<br></code></pre></td></tr></table></figure></li><li><p>安装 chrome 插件<br>安装<a href="https://chromewebstore.google.com/detail/gnome-shell-%E9%9B%86%E6%88%90/gphhapmejobijbbhgpjhcjognlahblep">GNOME Shell 集成</a><br>插件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">安装主机连接器</span><br>sudo apt install chrome-gnome-shell<br></code></pre></td></tr></table></figure></li></ol><h2 id="三、GNOME-插件推荐"><a href="#三、GNOME-插件推荐" class="headerlink" title="三、GNOME 插件推荐"></a>三、GNOME 插件推荐</h2><ul><li><a href="https://extensions.gnome.org/extension/261/kimpanel">Input Method Panel</a>：优化输入法面板</li><li><a href="https://extensions.gnome.org/extension/97/coverflow-alt-tab/">Coverflow Alt-Tab</a>: 优化切换窗口的效果</li><li><a href="https://extensions.gnome.org/extension/6/applications-menu/">Apps Menu</a>：添加应用程序快捷菜单</li><li><a href="https://extensions.gnome.org/extension/3088/extension-list/">Extension List</a>: 在通知栏集中管理 gnome 插件</li><li><a href="https://extensions.gnome.org/extension/1460/vitals/">Vitals</a>：显示计算机的温度、电压、扇速、内存、处理器、系统、网络、存储、显卡统计信息</li><li><a href="https://extensions.gnome.org/extension/7/removable-drive-menu/">Removable Drive Menu</a>: 通知栏中可以便捷地弹出存储器</li><li><a href="https://extensions.gnome.org/extension/779/clipboard-indicator/">Clipboard Indicator</a>：通知栏显示剪切板</li><li><a href="https://extensions.gnome.org/extension/307/dash-to-dock/">Dash to Dock</a>: 任务栏配置</li><li><a href="https://extensions.gnome.org/extension/750/openweather/">OpenWeather</a>：天气信息</li><li><a href="https://extensions.gnome.org/extension/1319/gsconnect/">GSConnect</a>：手机电脑互联</li><li><a href="https://extensions.gnome.org/extension/3193/blur-my-shell/">Blur my Shell</a>：为 GNOME Shell 的不同部分添加模糊外观，包括顶部面板、破折号和概览。</li><li><a href="https://extensions.gnome.org/extension/3843/just-perfection/">Just Perfection</a>：自定义设置 Dock、通知面板、图标，以及调整与<br>GNOME 交互方式等一系列的微调</li><li><a href="https://extensions.gnome.org/extension/28/gtile/">gTile</a>：改进原厂 gnome-shell 的窗口平铺功能，实现自定义分屏</li><li><a href="https://extensions.gnome.org/extension/5940/quick-settings-audio-panel/">Quick Settings Audio Panel</a>：在通知栏中显示音频控制面板</li></ul>]]></content>
    
    
    <categories>
      
      <category>os</category>
      
      <category>ubuntu</category>
      
    </categories>
    
    
    <tags>
      
      <tag>GRUB</tag>
      
      <tag>美化</tag>
      
      <tag>系统</tag>
      
      <tag>GNOME</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>双系统问题整理</title>
    <link href="/echo-silence/posts/1ee04425.html"/>
    <url>/echo-silence/posts/1ee04425.html</url>
    
    <content type="html"><![CDATA[<h2 id="win11-ubuntu-时间不同步问题"><a href="#win11-ubuntu-时间不同步问题" class="headerlink" title="win11 + ubuntu 时间不同步问题"></a>win11 + ubuntu 时间不同步问题</h2><p>方法一：使用 <code>timedatectl</code> 命令（不推荐）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 安装ntpdate，这个工具可以同步系统时间到指定的NTP服务器时间</span><br><span class="hljs-built_in">sudo</span> apt install ntpdate<br><span class="hljs-comment"># 在ubuntu24中安装hwclock</span><br><span class="hljs-built_in">sudo</span> apt install util-linux-extra<br><span class="hljs-comment"># 同步时间</span><br><span class="hljs-built_in">sudo</span> ntpdate time.windows.com<br><span class="hljs-comment"># 转换并写入硬件时钟的命令</span><br><span class="hljs-built_in">sudo</span> hwclock --localtime --systohc<br></code></pre></td></tr></table></figure><p>方法二：修改注册表（推荐）</p><ol><li><p>在 Windows 中修改注册表：</p><ul><li><p>按 <code>Win + R</code>，输入 <code>regedit</code> 打开注册表编辑器。</p></li><li><p>导航到：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs explaintext">HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation<br></code></pre></td></tr></table></figure></li><li><p>右键新建一个 <code>DWORD (32-bit) Value</code>，命名为 <code>RealTimeIsUniversal</code>，值设为 <code>1</code>。</p></li><li><p>重启 Windows。</p></li></ul></li><li><p>在 Ubuntu 中确认使用 UTC：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">timedatectl | grep <span class="hljs-string">&quot;RTC in local TZ&quot;</span><br></code></pre></td></tr></table></figure><p>如果显示 <code>yes</code>，改为 UTC：</p>   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> timedatectl set-local-rtc 0<br></code></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <categories>
      
      <category>os</category>
      
    </categories>
    
    
    <tags>
      
      <tag>双系统</tag>
      
      <tag>Ubuntu</tag>
      
      <tag>Windows</tag>
      
      <tag>运维</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Win11+Ubuntu双系统彻底卸载指南：100%清理分区与GRUB引导项</title>
    <link href="/echo-silence/posts/fc3226a0.html"/>
    <url>/echo-silence/posts/fc3226a0.html</url>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>注意事项</p><ol><li>操作前确保有 Windows 安装介质（USB），以防需要修复</li><li>对 EFI 分区的操作要格外小心</li><li>如果使用 BitLocker，可能需要先暂停保护</li><li>如果遇到问题，可以使用 Windows 安装介质启动，选择”修复计算机”→”疑难解答”→”启动修复”。</li></ol></blockquote><h2 id="一、备份重要数据（可选但强烈推荐）"><a href="#一、备份重要数据（可选但强烈推荐）" class="headerlink" title="一、备份重要数据（可选但强烈推荐）"></a>一、备份重要数据（可选但强烈推荐）</h2><ul><li>备份 Ubuntu 中的重要文件到 Windows 分区或外置存储</li><li>建议备份 Windows 的 EFI 分区内容（谨慎操作）</li></ul><h2 id="二、删除-Ubuntu-分区"><a href="#二、删除-Ubuntu-分区" class="headerlink" title="二、删除 Ubuntu 分区"></a>二、删除 Ubuntu 分区</h2><ol><li>重启进入 Windows 11 系统</li><li>打开磁盘管理</li><li>右键开始菜单 → 选择”磁盘管理”</li><li>删除 Ubuntu 分区<br>右键每个 Ubuntu 相关分区 → 选择”删除卷”。<strong>注意：不要误删 Windows 分区（通常是 NTFS 文件系统）</strong></li></ol><h2 id="三、清理-GRUB-引导项"><a href="#三、清理-GRUB-引导项" class="headerlink" title="三、清理 GRUB 引导项"></a>三、清理 GRUB 引导项</h2><h3 id="1-挂载-EFI-分区"><a href="#1-挂载-EFI-分区" class="headerlink" title="1.挂载 EFI 分区"></a>1.挂载 EFI 分区</h3><p>需要以管理员权限启动 DiskPart 程序。</p><ol><li>在“搜索”框中键入“diskpart”，右击并选择“以管理员身份运行”</li><li>按“Windows + R”键，并在框中键入 <code>diskpart</code></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 列出当前计算机连接的所有物理磁盘（硬盘、U盘等）</span><br>list disk<br><span class="hljs-comment"># 选择要操作的磁盘（这里选择 磁盘 0）</span><br><span class="hljs-keyword">select</span> disk 0<br><span class="hljs-comment"># 列出所选磁盘的所有分区</span><br>list partition<br><span class="hljs-comment"># 择要操作的分区（如 分区 1，找到约100MB的EFI分区）</span><br><span class="hljs-keyword">select</span> partition 1<br><span class="hljs-comment"># 强制删除选定的分区</span><br>delete partition override<br></code></pre></td></tr></table></figure><h3 id="2-检查-EFI-分区是否残留-ubuntu-文件"><a href="#2-检查-EFI-分区是否残留-ubuntu-文件" class="headerlink" title="2.检查 EFI 分区是否残留 ubuntu 文件"></a>2.检查 EFI 分区是否残留 ubuntu 文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 挂载 EFI 分区（管理员权限运行）</span><br>mountvol S: /S<br><span class="hljs-comment"># 查看EFI分区内容</span><br><span class="hljs-built_in">dir</span> S:\EFI<br><span class="hljs-comment"># 正常应只有 Microsoft 文件夹，如果存在 ubuntu 文件夹，手动删除</span><br><span class="hljs-built_in">rm</span> -Force -Recurse S:\EFI\ubuntu<br><span class="hljs-comment"># 卸载 EFI 分区</span><br>mountvol S: /D<br></code></pre></td></tr></table></figure><h2 id="四、扩展-Windows-分区（可选）"><a href="#四、扩展-Windows-分区（可选）" class="headerlink" title="四、扩展 Windows 分区（可选）"></a>四、扩展 Windows 分区（可选）</h2><p>在磁盘管理中：</p><ol><li>右键 Windows 分区 → 选择”扩展卷”</li><li>将之前 Ubuntu 占用的未分配空间合并到 Windows 分区</li></ol><h2 id="五、最终检查"><a href="#五、最终检查" class="headerlink" title="五、最终检查"></a>五、最终检查</h2><p>重启系统，确认：</p><ol><li>直接进入 Windows 11 而无 GRUB 菜单</li><li>所有 Windows 功能正常</li></ol>]]></content>
    
    
    <categories>
      
      <category>os</category>
      
    </categories>
    
    
    <tags>
      
      <tag>双系统</tag>
      
      <tag>GRUB</tag>
      
      <tag>分区</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu24.04保姆级装机指南：避坑搜狗输入法+GNOME插件推荐+高效下载工具全攻略</title>
    <link href="/echo-silence/posts/7d6af4c4.html"/>
    <url>/echo-silence/posts/7d6af4c4.html</url>
    
    <content type="html"><![CDATA[<h2 id="一、分区说明"><a href="#一、分区说明" class="headerlink" title="一、分区说明"></a>一、分区说明</h2><p>以 64GB 内存+500GB 磁盘为例说明：</p><table><thead><tr><th>挂载点</th><th>大小</th><th>文件系统</th><th>说明</th></tr></thead><tbody><tr><td>&#x2F;boot&#x2F;efi</td><td>512M</td><td>FAT32(VFAT)</td><td><strong>必选</strong> EFI 系统分区（ESP），存放引导文件。双系统可以直接复用 WindowsESP 分区</td></tr><tr><td>&#x2F;boot</td><td>1-2GB</td><td>EXT4</td><td><strong>可选</strong>独立<code>/boot</code>可防止内核更新占满根分区，大内存机器可省略</td></tr><tr><td>&#x2F;</td><td>100-150GB</td><td>EXT4</td><td><strong>必选</strong> 根分区，系统核心和软件安装</td></tr><tr><td>swap</td><td>4-8GB</td><td>SWAP</td><td><strong>可选</strong>64GB 内存可大幅减少或禁用交换分区（用<code>zram</code>替代更高效）</td></tr><tr><td>&#x2F;home</td><td>剩余空间</td><td>EXT4</td><td><strong>推荐</strong>用户数据独立存储，重装系统时保留</td></tr></tbody></table><h2 id="二、基础软件"><a href="#二、基础软件" class="headerlink" title="二、基础软件"></a>二、基础软件</h2><p>安装基础软件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt update &amp;&amp; sudo apt install -y git curl wget vim<br></code></pre></td></tr></table></figure><h2 id="三、使用-fcitx5-配置中文输入法"><a href="#三、使用-fcitx5-配置中文输入法" class="headerlink" title="三、使用 fcitx5 配置中文输入法"></a>三、使用 fcitx5 配置中文输入法</h2><p>由于搜狗输入法暂时不支持 fcitx5，故不使用搜狗输入法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install fcitx5 fcitx5-chinese-addons fcitx5-frontend-* kde-config-fcitx5 fcitx5-config-qt<br>echo -e &quot;\n# Fcitx5 Input Method Environment Variables\nexport XMODIFIERS=&#x27;@im=fcitx5&#x27;\nexport XMODIFIER=&#x27;@im=fcitx5&#x27;\nexport GTK_IM_MODULE=fcitx5\nexport QT_IM_MODULE=fcitx5\nexport DefaultIMModule=fcitx5&quot; &gt;&gt; ~/.profile &amp;&amp; source ~/.profile<br></code></pre></td></tr></table></figure><p>如需安装<a href="https://pinyin.sogou.com/dict/">搜狗词库</a>，请自行下载安装<br>下文<strong>安装 gnome 插件</strong>中，其中安装<strong>Input Method Panel</strong>可以优化输入法界面</p><h2 id="四、安装搜狗输入法【不推荐】"><a href="#四、安装搜狗输入法【不推荐】" class="headerlink" title="四、安装搜狗输入法【不推荐】"></a>四、安装搜狗输入法【<strong>不推荐</strong>】</h2><p>搜狗输入法安装后，部分程序中无法使用，例如：chrome、文件管理器</p><h3 id="1-安装-fcitx"><a href="#1-安装-fcitx" class="headerlink" title="1. 安装 fcitx"></a>1. 安装 fcitx</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">卸载ibus、fcitx5</span><br>sudo apt remove --purge ibus* fcitx5*<br><span class="hljs-meta prompt_"># </span><span class="language-bash">删除残留以及更新源</span><br>sudo apt autoremove &amp;&amp; sudo apt autoclean &amp;&amp; sudo apt update &amp;&amp; sudo apt install fcitx<br><span class="hljs-meta prompt_"># </span><span class="language-bash">设置开机启动</span><br>sudo cp /usr/share/applications/fcitx.desktop /etc/xdg/autostart/<br></code></pre></td></tr></table></figure><ol><li>打开 系统设置——区域和语言——管理已安装的语言——在“语言”tab 下——点击“添加或删除语言”</li><li>弹出“已安装语言”窗口，勾选中文（简体）、英语，点击“应用”</li><li>回到“语言支持”窗口，在键盘输入法系统中，选择“fcitx”</li></ol><h3 id="2-安装输入法"><a href="#2-安装输入法" class="headerlink" title="2. 安装输入法"></a>2. 安装输入法</h3><ol><li>下载<a href="https://shurufa.sogou.com/linux">linux 版本搜狗输入法</a></li><li>使用命令 <code>sudo dpkg -i sogoupinyin_xxx.deb</code> 安装文件</li><li>终端执行<code>sudo apt install libqt5qml5 libqt5quick5 libqt5quickwidgets5 qml-module-qtquick2 libgsettings-qt1</code></li><li>重启系统 <code>reboot</code></li></ol><h3 id="3-注意"><a href="#3-注意" class="headerlink" title="3.注意"></a>3.注意</h3><ol><li>如果遇到切换输入法后闪烁问题，可能与 Wayland 显示服务器有关，执行<code>sudo vim /etc/gdm3/custom.conf</code> 取消注释<br><code>WaylandEnable=false</code>即可</li><li>可以使用<code>fcitx-diagnose</code>检查<code>fcitx</code>是否正常运行</li></ol><h2 id="五、禁用-home目录下自动生成文件夹"><a href="#五、禁用-home目录下自动生成文件夹" class="headerlink" title="五、禁用/home目录下自动生成文件夹"></a>五、禁用<code>/home</code>目录下自动生成文件夹</h2><p>目的：删除中文文件夹，且系统不会再次自动创建</p><ol><li><p>关闭 user-dirs 自动生成功能，<code>sudo vim /etc/xdg/user-dirs.conf</code>，将 enabled&#x3D;True 改为 enabled&#x3D;False</p></li><li><p>修改用户现目前的文件夹（主要是为了清理文件管理器左边显示的栏目），<code>sudo vim ~/.config/user-dirs.dirs</code><br>，只保留“桌面”相关行，其余的全部注释，例如：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs text">XDG_DESKTOP_DIR=&quot;$HOME/桌面&quot;<br>#XDG_DOWNLOAD_DIR=&quot;$HOME/下载&quot;<br>#XDG_TEMPLATES_DIR=&quot;$HOME/模板&quot;<br>#XDG_PUBLICSHARE_DIR=&quot;$HOME/公共&quot;<br>#XDG_DOCUMENTS_DIR=&quot;$HOME/文档&quot;<br>#XDG_MUSIC_DIR=&quot;$HOME/音乐&quot;<br>#XDG_PICTURES_DIR=&quot;$HOME/图片&quot;<br>#XDG_VIDEOS_DIR=&quot;$HOME/视频&quot;<br></code></pre></td></tr></table></figure></li><li><p>强制更新，<code>xdg-user-dirs-update --force</code></p></li><li><p>创建英文文件夹，例如：<code>mkdir ~/downloads</code>，根据实际情况自行处理</p></li><li><p>删除多余的中文文件夹，保留“桌面”文件夹<br><code>find ~ -maxdepth 1 -type d \( -name &quot;下载&quot; -o -name &quot;模板&quot; -o -name &quot;公共&quot; -o -name &quot;文档&quot; -o -name &quot;音乐&quot; -o -name &quot;图片&quot; -o -name &quot;视频&quot; \) -exec rm -rf &#123;&#125; +</code></p></li><li><p>移除左侧书签栏中多余的文件夹</p></li></ol><h2 id="六、更新软件源"><a href="#六、更新软件源" class="headerlink" title="六、更新软件源"></a>六、更新软件源</h2><p>在 Ubuntu 24.04 中，APT 软件源配置方式发生了变化，默认使用 &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;ubuntu.sources 文件（Debian 格式）而非传统的<br>&#x2F;etc&#x2F;apt&#x2F;sources.list。</p><h3 id="1-针对新配置方式的阿里源替换方法"><a href="#1-针对新配置方式的阿里源替换方法" class="headerlink" title="1. 针对新配置方式的阿里源替换方法"></a>1. 针对<strong>新配置方式</strong>的阿里源替换方法</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">备份源列表</span><br>sudo cp /etc/apt/sources.list.d/ubuntu.sources /etc/apt/sources.list.d/ubuntu.sources.bak<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">替换</span><br>sudo tee /etc/apt/sources.list.d/ubuntu.sources &lt;&lt;EOF<br><span class="hljs-meta prompt_"># </span><span class="language-bash">默认启用阿里镜像源（Ubuntu 24.04 Noble Numbat）</span><br>Types: deb deb-src<br>URIs: https://mirrors.aliyun.com/ubuntu/<br>Suites: noble noble-updates noble-backports noble-security<br>Components: main restricted universe multiverse<br>Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg<br>EOF<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">更新源</span><br>sudo apt update &amp;&amp; sudo apt upgrade -y<br></code></pre></td></tr></table></figure><h3 id="2-针对老配置方式的清华源替换方法"><a href="#2-针对老配置方式的清华源替换方法" class="headerlink" title="2. 针对老配置方式的清华源替换方法"></a>2. 针对<strong>老配置方式</strong>的清华源替换方法</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">备份源列表</span><br>sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak<br><span class="hljs-meta prompt_"># </span><span class="language-bash">替换</span><br>sudo sed -i &quot;s@http://.*archive.ubuntu.com@https://mirrors.tuna.tsinghua.edu.cn@g&quot; /etc/apt/sources.list<br>sudo sed -i &quot;s@http://.*security.ubuntu.com@https://mirrors.tuna.tsinghua.edu.cn@g&quot; /etc/apt/sources.list<br><span class="hljs-meta prompt_"># </span><span class="language-bash">更新源</span><br>sudo apt update &amp;&amp; sudo apt upgrade -y<br></code></pre></td></tr></table></figure><h2 id="七、安装-chrome"><a href="#七、安装-chrome" class="headerlink" title="七、安装 chrome"></a>七、安装 chrome</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">导入 Google 包签名密钥</span><br>curl -fsSL https://dl.google.com/linux/linux_signing_key.pub| sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/google.gpg<br><span class="hljs-meta prompt_"># </span><span class="language-bash">在 Ubuntu 系统中添加 Google Chrome 存储库</span><br>sudo sh -c &#x27;echo &quot;deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main&quot; &gt;&gt; /etc/apt/sources.list.d/google-chrome.list&#x27;<br><span class="hljs-meta prompt_"># </span><span class="language-bash">更新可用软件包列表</span><br>sudo apt update<br><span class="hljs-meta prompt_"># </span><span class="language-bash">安装chrome</span><br>sudo apt install google-chrome-stable<br></code></pre></td></tr></table></figure><h2 id="八、安装-gnome-插件"><a href="#八、安装-gnome-插件" class="headerlink" title="八、安装 gnome 插件"></a>八、安装 gnome 插件</h2><p>chrome<br>中安装<a href="https://chromewebstore.google.com/detail/gnome-shell-%E9%9B%86%E6%88%90/gphhapmejobijbbhgpjhcjognlahblep">GNOME Shell 集成</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">安装个性化桌面工具</span><br>sudo apt install gnome-tweaks<br><span class="hljs-meta prompt_"># </span><span class="language-bash">安装主机连接器</span><br>sudo apt install chrome-gnome-shell<br></code></pre></td></tr></table></figure><h3 id="插件推荐"><a href="#插件推荐" class="headerlink" title="插件推荐"></a>插件推荐</h3><ul><li><a href="https://extensions.gnome.org/extension/261/kimpanel">Input Method Panel</a>：优化输入法面板</li><li><a href="https://extensions.gnome.org/extension/97/coverflow-alt-tab/">Coverflow Alt-Tab</a>: 优化切换窗口的效果</li><li><a href="https://extensions.gnome.org/extension/6/applications-menu/">Apps Menu</a>：添加应用程序快捷菜单</li><li><a href="https://extensions.gnome.org/extension/3088/extension-list/">Extension List</a>: 在通知栏集中管理 gnome 插件</li><li><a href="https://extensions.gnome.org/extension/1460/vitals/">Vitals</a>：显示计算机的温度、电压、扇速、内存、处理器、系统、网络、存储、显卡统计信息</li><li><a href="https://extensions.gnome.org/extension/7/removable-drive-menu/">Removable Drive Menu</a>: 通知栏中可以便捷地弹出存储器</li><li><a href="https://extensions.gnome.org/extension/779/clipboard-indicator/">Clipboard Indicator</a>：通知栏显示剪切板</li><li><a href="https://extensions.gnome.org/extension/307/dash-to-dock/">Dash to Dock</a>: 任务栏配置</li><li><a href="https://extensions.gnome.org/extension/750/openweather/">OpenWeather</a>：天气信息</li><li><a href="https://extensions.gnome.org/extension/1319/gsconnect/">GSConnect</a>：手机电脑互联</li><li><a href="https://extensions.gnome.org/extension/3193/blur-my-shell/">Blur my Shell</a>：为 GNOME Shell 的不同部分添加模糊外观，包括顶部面板、破折号和概览</li><li><a href="https://extensions.gnome.org/extension/3843/just-perfection/">Just Perfection</a>：自定义设置 Dock、通知面板、图标，以及调整与<br>GNOME 交互方式等一系列的微调</li><li><a href="https://extensions.gnome.org/extension/28/gtile/">gTile</a>：改进原厂 gnome-shell 的窗口平铺功能，实现自定义分屏</li><li><a href="https://extensions.gnome.org/extension/5940/quick-settings-audio-panel/">Quick Settings Audio Panel</a>：在通知栏中显示音频控制面板</li></ul><h2 id="九、安装-Motrix-下载工具"><a href="#九、安装-Motrix-下载工具" class="headerlink" title="九、安装 Motrix 下载工具"></a>九、安装 Motrix 下载工具</h2><p><a href="https://motrix.app/download">Motrix</a>是一款 BT 下载工具</p><ol><li>下载后使用 <code>sudo dpkg -i Motrix_xxx.deb</code> 安装即可</li><li>建议配合<a href="https://chromewebstore.google.com/category/extensions">chrome 插件</a> Aria2 Explorer 一起使用，需要修改 Aria2<br>Explorer 中 Aria2-RPC-Server 的端口由 6800 改为 16800 即可</li></ol><h2 id="十、生成-SSH-密钥"><a href="#十、生成-SSH-密钥" class="headerlink" title="十、生成 SSH 密钥"></a>十、生成 SSH 密钥</h2><p>生成 ssh 密钥，按推荐优先级排序</p><ol><li>当前最推荐的 SSH 密钥类型，密钥短（256 位）、安全性高、性能优<br><code>ssh-keygen -t ed25519 -C &quot;your_email@example.com&quot;</code></li><li>次选方案，安全性也很好<br><code>ssh-keygen -t ecdsa -b 521 -C &quot;your_email@example.com&quot;</code></li><li>传统选择，兼容性最好。需要足够长的密钥长度（至少 3072 位，推荐 4096）<br><code>ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;</code></li></ol>]]></content>
    
    
    <categories>
      
      <category>os</category>
      
      <category>ubuntu</category>
      
    </categories>
    
    
    <tags>
      
      <tag>装机指南</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>博客文章页高级说明</title>
    <link href="/echo-silence/posts/2268ade3.html"/>
    <url>/echo-silence/posts/2268ade3.html</url>
    
    <content type="html"><![CDATA[<h2 id="文章-front-matter-说明"><a href="#文章-front-matter-说明" class="headerlink" title="文章 front-matter 说明"></a>文章 front-matter 说明</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs md">title: 标题<br>excerpt: 摘要<br>index<span class="hljs-emphasis">_img: 首页封面图</span><br><span class="hljs-emphasis">banner_</span>img: 文章页banner图<br>hide: false # 是否隐藏<br>archive: true # 隐藏文件在归档中也能看见，hide不能设置为true，否则仍不可见<br>sticky: 1 # 是否置顶（数字越大越靠前）<br>comment: &#x27;valine&#x27; # 是否开启评论（false/true,或者具体的评论插件：valine/waline）<br>abbrlink: 2268ade3 # 文章页永链<br>date: 2019-10-10 10:00:00 # 日期<br></code></pre></td></tr></table></figure><h2 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h2><p>主题内置了脚注语法支持，可以在文章末尾自动生成带有锚点的脚注，该功能在主题配置中默认开启：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">post:</span><br>  <span class="hljs-attr">footnote:</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">header:</span> <span class="hljs-string">&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><p>脚注语法如下：</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs md">这是一句话[^1]<br>[<span class="hljs-symbol">^1</span>]: <span class="hljs-link">这是对应的脚注</span><br></code></pre></td></tr></table></figure><p>更优雅的使用方式，是将脚注写在文末，比如：</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs md">正文<br><br><span class="hljs-section">## 参考</span><br><br>[<span class="hljs-symbol">^1</span>]: <span class="hljs-link">参考资料1</span><br><br>[<span class="hljs-symbol">^2</span>]: <span class="hljs-link">参考资料2</span><br></code></pre></td></tr></table></figure><p>当然你也可以通过修改上方配置项 <code>header</code> 来自动加入节标题，如下所示：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">post:</span><br>  <span class="hljs-attr">footnote:</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">header:</span> <span class="hljs-string">&#x27;&lt;h2&gt;参考&lt;/h2&gt;&#x27;</span>  <span class="hljs-comment"># 等同于手动写 `## 参考`</span><br></code></pre></td></tr></table></figure><h2 id="Tag插件"><a href="#Tag插件" class="headerlink" title="Tag插件"></a>Tag插件</h2><p>可选标签：<br><code>&lt;p class=&quot;note note-primary&quot;&gt;primary&lt;/p&gt;</code> 或 <code>&#123;% note primary %&#125; primary &#123;% endnote %&#125;</code><br>可选 <code>label</code>：</p><ul><li>primary</li><li>secondary</li><li>default</li><li>info</li><li>success</li><li>warning</li><li>danger</li></ul><h2 id="行内标签"><a href="#行内标签" class="headerlink" title="行内标签"></a>行内标签</h2><p><code>&lt;span class=&quot;label label-primary&quot;&gt;text&lt;/span&gt;</code> 或 <code>&#123;% label secondary @text %&#125;</code><br>可选 <code>label</code>：</p><ul><li>primary</li><li>default</li><li>info</li><li>success</li><li>warning</li><li>danger</li></ul><h2 id="折叠块"><a href="#折叠块" class="headerlink" title="折叠块"></a>折叠块</h2><p>使用折叠块，可以折叠代码、图片、文字等任何内容，你可以在 markdown 中按如下格式：</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs md">&#123;% fold info @title %&#125;<br>需要折叠的一段内容，支持 markdown<br>&#123;% endfold %&#125;<br></code></pre></td></tr></table></figure><p>info: 和行内标签类似的可选参数 title: 折叠块上的标题</p><h2 id="勾选框"><a href="#勾选框" class="headerlink" title="勾选框"></a>勾选框</h2><p>在 <code>markdown</code> 中加入如下的代码来使用 Checkbox：</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs md">&#123;% cb text, checked?, incline? %&#125;<br></code></pre></td></tr></table></figure><ul><li>text：显示的文字</li><li>checked：默认是否已勾选，默认 false</li><li>incline: 是否内联（可以理解为后面的文字是否换行），默认 false</li></ul><h2 id="按钮"><a href="#按钮" class="headerlink" title="按钮"></a>按钮</h2><p>你可以在 markdown 中加入如下的代码来使用 Button：</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs md">&#123;% btn url, text, title %&#125;<br></code></pre></td></tr></table></figure><p>或者使用 HTML 形式：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span>text<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>url：跳转链接</li><li>text：显示的文字</li><li>title：鼠标悬停时显示的文字（可选）</li></ul><h2 id="组图"><a href="#组图" class="headerlink" title="组图"></a>组图</h2><p>如果想把多张图片按一定布局组合显示，你可以在 markdown 中按如下格式：</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs md">&#123;% gi total n1-n2-... %&#125;<br>![](<span class="hljs-link">url</span>)<br>![](<span class="hljs-link">url</span>)<br>![](<span class="hljs-link">url</span>)<br>![](<span class="hljs-link">url</span>)<br>![](<span class="hljs-link">url</span>)<br>&#123;% endgi %&#125;<br></code></pre></td></tr></table></figure><p><code>total</code>：图片总数量，对应中间包含的图片 <code>url</code> 数量<br><code>n1-n2-...</code>：每行的图片数量，可以省略，默认单行最多 3 张图，求和必须相等于 <code>total</code>，否则按默认样式</p><p>例如：<code>&#123;% gi 5 3-2 %&#125;</code> 示例，代表共 5 张图，第一行 3 张图，第二行 2 张图。</p>]]></content>
    
    
    <categories>
      
      <category>blog</category>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>博客</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
